<html lang="ko"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고정현헤어 인사관리 시스템</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .login-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .main-container {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .position-intern { border-left: 4px solid #10b981; }
        .position-디자이너 { border-left: 4px solid #3b82f6; }
        .position-팀장 { border-left: 4px solid #8b5cf6; }
        .position-실장 { border-left: 4px solid #f59e0b; }
        .position-부원장 { border-left: 4px solid #ef4444; }
        .position-원장 { border-left: 4px solid #dc2626; }
        .position-매니저 { border-left: 4px solid #06b6d4; }
        .position-부점장 { border-left: 4px solid #84cc16; }
        .position-점장 { border-left: 4px solid #f97316; }
    </style>
<style>
    .genspark-notice-dialog {
      display: flex;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 10001;
      align-items: center;
      justify-content: center;
    }

    .genspark-notice-content {
      background-color: white;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
      box-sizing: border-box;
      padding: 10px 30px 30px 30px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      font-size: 16px;
    }

    .genspark-notice-title {
      color: #000;
      font-family: Arial;
      font-size: 20px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%; 
    }

    .genspark-notice-list {
      margin: 24px 0;
      
      color: #606366;
      font-family: Arial;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 150%;
      padding-left: 12px;
    }

    .genspark-notice-list li {
      margin-bottom: 12px;
      list-style-type: disc;
    }

    .genspark-notice-list li a {
      color: #606366;
      text-decoration: underline;
    }

    .genspark-notice-checkbox {
      display: flex;
      align-items: center;
      margin-top: 20px;
      gap: 10px;

      color: #232425;

      font-family: Arial;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: normal;
    }

    .genspark-notice-actions {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }
      
    .genspark-notice-ok {
      color: #232425;

      text-align: center;
      font-family: Arial;
      font-size: 16px;
      font-style: normal;
      font-weight: 700;
      line-height: 150%; 

      cursor: pointer;
      display: flex;
      height: 40px;
      padding: 6px 14px;
      justify-content: center;
      align-items: center;
      gap: 10px;
      align-self: stretch;
      border-radius: 8px;
      border: 1px solid #000;
      box-sizing: border-box;
      width: 100%;
    }
  </style></head>
<body class="font-sans">
    <!-- 로그인 페이지 -->
    <div id="loginPage" class="login-container flex items-center justify-center" style="display: flex;">
        <div class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-md mx-4">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">고정현헤어</h1>
                <p class="text-gray-600">인사관리 시스템</p>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">아이디</label>
                    <input type="text" id="username" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="아이디를 입력하세요">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">비밀번호</label>
                    <input type="password" id="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="비밀번호를 입력하세요">
                </div>
                
                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium">
                    로그인
                </button>
            </form>
            
            <div class="mt-6 text-center text-sm text-gray-600">
                <p>본부장: admin / gohair2024</p>
                <p>HR팀: hr / hr2024</p>
            </div>
        </div>
    </div>

    <!-- 메인 페이지 -->
    <div id="mainPage" class="main-container" style="display: none;">
        <!-- 헤더 -->
        <header class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <h1 class="text-2xl font-bold text-gray-900">고정현헤어 인사관리</h1>
                        <span id="userInfo" class="ml-4 text-sm text-gray-600"></span>
                    </div>
                    <button id="logoutBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200">
                        <i class="fas fa-sign-out-alt mr-2"></i>로그아웃
                    </button>
                </div>
            </div>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- 통계 대시보드 -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <i class="fas fa-users text-3xl text-blue-500"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">전체 직원</p>
                            <p id="totalEmployees" class="text-2xl font-bold text-gray-900">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <i class="fas fa-user-check text-3xl text-green-500"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">재직 중</p>
                            <p id="activeEmployees" class="text-2xl font-bold text-gray-900">0</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <i class="fas fa-graduation-cap text-3xl text-purple-500"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">교육 이수율</p>
                            <p id="trainingRate" class="text-2xl font-bold text-gray-900">0%</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg shadow-sm border">
                    <div class="flex items-center">
                        <div class="flex-shrink-0">
                            <i class="fas fa-calendar-plus text-3xl text-orange-500"></i>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">이번 달 입사</p>
                            <p id="monthlyHires" class="text-2xl font-bold text-gray-900">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 탭 메뉴 -->
            <div class="bg-white rounded-lg shadow-sm border mb-6">
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 px-6">
                        <button class="tab-btn border-b-2 border-blue-500 text-blue-600 py-4 px-2 text-sm font-medium" data-tab="employees">
                            <i class="fas fa-users mr-2"></i>직원 관리
                        </button>
                        <button class="tab-btn border-b-2 border-transparent text-gray-500 hover:text-gray-700 py-4 px-2 text-sm font-medium" data-tab="training">
                            <i class="fas fa-graduation-cap mr-2"></i>교육 이력
                        </button>
                    </nav>
                </div>

                <!-- 직원 관리 탭 -->
                <div id="employeesTab" class="tab-content p-6">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6">
                        <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
                            <div class="relative">
                                <input type="text" id="searchEmployee" placeholder="직원 검색..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                            </div>
                            <select id="filterPosition" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="">전체 직급</option>
                                <option value="인턴">인턴</option>
                                <option value="디자이너">디자이너</option>
                                <option value="팀장">팀장</option>
                                <option value="실장">실장</option>
                                <option value="부원장">부원장</option>
                                <option value="원장">원장</option>
                                <option value="매니저">매니저</option>
                                <option value="부점장">부점장</option>
                                <option value="점장">점장</option>
                            </select>
                        </div>
                        <button id="addEmployeeBtn" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 flex items-center whitespace-nowrap">
                            <i class="fas fa-plus mr-2"></i>새 직원 추가
                        </button>
                    </div>

                    <div id="employeesList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- 직원 카드들이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>

                <!-- 교육 이력 탭 -->
                <div id="trainingTab" class="tab-content p-6" style="display: none;">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-lg font-medium text-gray-900">교육 이력 관리</h3>
                        <button id="addTrainingBtn" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition duration-200 flex items-center">
                            <i class="fas fa-plus mr-2"></i>교육 추가
                        </button>
                    </div>

                    <div id="trainingList" class="space-y-4">
                        <!-- 교육 이력들이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 직원 추가/수정 모달 -->
    <div id="employeeModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full" style="display: none;">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-md bg-white rounded-lg shadow-lg">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTitle" class="text-lg font-medium text-gray-900">새 직원 추가</h3>
                <button id="closeModal" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="employeeForm" class="space-y-4">
                <input type="hidden" id="employeeId">
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">이름</label>
                    <input type="text" id="employeeName" required="" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">직급</label>
                    <select id="employeePosition" required="" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="">직급 선택</option>
                        <option value="인턴">인턴</option>
                        <option value="디자이너">디자이너</option>
                        <option value="팀장">팀장</option>
                        <option value="실장">실장</option>
                        <option value="부원장">부원장</option>
                        <option value="원장">원장</option>
                        <option value="매니저">매니저</option>
                        <option value="부점장">부점장</option>
                        <option value="점장">점장</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">연락처</label>
                    <input type="tel" id="employeePhone" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">이메일</label>
                    <input type="email" id="employeeEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">입사일</label>
                    <input type="date" id="employeeHireDate" required="" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" id="cancelBtn" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                        취소
                    </button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200">
                        저장
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- 교육 추가 모달 -->
    <div id="trainingModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full" style="display: none;">
        <div class="relative top-20 mx-auto p-5 border w-full max-w-md bg-white rounded-lg shadow-lg">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-medium text-gray-900">교육 추가</h3>
                <button id="closeTrainingModal" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="trainingForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">직원 선택</label>
                    <select id="trainingEmployee" required="" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        <option value="">직원 선택</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">교육명</label>
                    <input type="text" id="trainingName" required="" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">교육 기관</label>
                    <input type="text" id="trainingOrganization" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">교육 일자</label>
                    <input type="date" id="trainingDate" required="" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                
                <div>
                    <label class="flex items-center">
                        <input type="checkbox" id="trainingCompleted" class="form-checkbox h-4 w-4 text-blue-600">
                        <span class="ml-2 text-sm text-gray-700">수료 완료</span>
                    </label>
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" id="cancelTrainingBtn" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition duration-200">
                        취소
                    </button>
                    <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition duration-200">
                        저장
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // 데이터 저장
        let employees = JSON.parse(localStorage.getItem('employees')) || [];
        let trainings = JSON.parse(localStorage.getItem('trainings')) || [];
        let currentUser = null;

        // 인증 정보
        const users = {
            admin: { password: 'gohair2024', name: '본부장' },
            hr: { password: 'hr2024', name: 'HR팀' }
        };

        // 초기화
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            checkSession();
        });

        function setupEventListeners() {
            // 로그인 폼
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // 로그아웃
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            
            // 탭 전환
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });
            
            // 직원 관련
            document.getElementById('addEmployeeBtn').addEventListener('click', () => openEmployeeModal());
            document.getElementById('employeeForm').addEventListener('submit', handleEmployeeSubmit);
            document.getElementById('closeModal').addEventListener('click', closeEmployeeModal);
            document.getElementById('cancelBtn').addEventListener('click', closeEmployeeModal);
            
            // 교육 관련
            document.getElementById('addTrainingBtn').addEventListener('click', () => openTrainingModal());
            document.getElementById('trainingForm').addEventListener('submit', handleTrainingSubmit);
            document.getElementById('closeTrainingModal').addEventListener('click', closeTrainingModal);
            document.getElementById('cancelTrainingBtn').addEventListener('click', closeTrainingModal);
            
            // 검색 및 필터
            document.getElementById('searchEmployee').addEventListener('input', filterEmployees);
            document.getElementById('filterPosition').addEventListener('change', filterEmployees);
        }

        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (users[username] && users[username].password === password) {
                currentUser = { username, name: users[username].name };
                sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                showMainPage();
            } else {
                alert('아이디 또는 비밀번호가 올바르지 않습니다.');
            }
        }

        function handleLogout() {
            sessionStorage.removeItem('currentUser');
            currentUser = null;
            showLoginPage();
        }

        function checkSession() {
            const savedUser = sessionStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showMainPage();
            } else {
                showLoginPage();
            }
        }

        function showLoginPage() {
            document.getElementById('loginPage').style.display = 'flex';
            document.getElementById('mainPage').style.display = 'none';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        function showMainPage() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('mainPage').style.display = 'block';
            document.getElementById('userInfo').textContent = `${currentUser.name}님 환영합니다`;
            updateDashboard();
            renderEmployees();
            renderTrainings();
            updateTrainingEmployeeSelect();
        }

        function switchTab(tab) {
            // 탭 버튼 활성화
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'text-blue-600');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            document.querySelector(`[data-tab="${tab}"]`).classList.remove('border-transparent', 'text-gray-500');
            document.querySelector(`[data-tab="${tab}"]`).classList.add('border-blue-500', 'text-blue-600');
            
            // 탭 컨텐츠 표시
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            document.getElementById(`${tab}Tab`).style.display = 'block';
        }

        function updateDashboard() {
            const activeEmployees = employees.filter(emp => emp.status === 'active');
            const completedTrainings = trainings.filter(training => training.completed);
            const thisMonth = new Date().getMonth();
            const thisYear = new Date().getFullYear();
            const monthlyHires = employees.filter(emp => {
                const hireDate = new Date(emp.hireDate);
                return hireDate.getMonth() === thisMonth && hireDate.getFullYear() === thisYear;
            });

            document.getElementById('totalEmployees').textContent = employees.length;
            document.getElementById('activeEmployees').textContent = activeEmployees.length;
            document.getElementById('trainingRate').textContent = trainings.length > 0 ? 
                Math.round((completedTrainings.length / trainings.length) * 100) + '%' : '0%';
            document.getElementById('monthlyHires').textContent = monthlyHires.length;
        }

        function renderEmployees() {
            const container = document.getElementById('employeesList');
            const filteredEmployees = getFilteredEmployees();
            
            if (filteredEmployees.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-8 text-gray-500">
                        <i class="fas fa-users text-4xl mb-4"></i>
                        <p>등록된 직원이 없습니다.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = filteredEmployees.map(employee => `
                <div class="bg-white rounded-lg shadow-sm border card-hover position-${employee.position}">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-lg font-medium text-gray-900">${employee.name}</h3>
                                <p class="text-sm text-gray-600">${employee.position}</p>
                            </div>
                            <span class="px-2 py-1 text-xs rounded-full ${employee.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                ${employee.status === 'active' ? '재직' : '퇴사'}
                            </span>
                        </div>
                        
                        <div class="space-y-2 text-sm text-gray-600 mb-4">
                            ${employee.phone ? `<p><i class="fas fa-phone w-4"></i> ${employee.phone}</p>` : ''}
                            ${employee.email ? `<p><i class="fas fa-envelope w-4"></i> ${employee.email}</p>` : ''}
                            <p><i class="fas fa-calendar w-4"></i> ${employee.hireDate}</p>
                        </div>
                        
                        <div class="flex space-x-2">
                            <button onclick="editEmployee('${employee.id}')" class="flex-1 bg-blue-50 text-blue-600 py-2 px-3 rounded text-sm hover:bg-blue-100 transition duration-200">
                                <i class="fas fa-edit mr-1"></i>수정
                            </button>
                            ${employee.status === 'active' ? 
                                `<button onclick="retireEmployee('${employee.id}')" class="flex-1 bg-red-50 text-red-600 py-2 px-3 rounded text-sm hover:bg-red-100 transition duration-200">
                                    <i class="fas fa-user-times mr-1"></i>퇴사
                                </button>` :
                                `<button onclick="rehireEmployee('${employee.id}')" class="flex-1 bg-green-50 text-green-600 py-2 px-3 rounded text-sm hover:bg-green-100 transition duration-200">
                                    <i class="fas fa-user-plus mr-1"></i>복직
                                </button>`
                            }
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getFilteredEmployees() {
            const search = document.getElementById('searchEmployee').value.toLowerCase();
            const position = document.getElementById('filterPosition').value;
            
            return employees.filter(employee => {
                const matchesSearch = employee.name.toLowerCase().includes(search) ||
                                    employee.phone.includes(search) ||
                                    employee.email.toLowerCase().includes(search);
                const matchesPosition = !position || employee.position === position;
                
                return matchesSearch && matchesPosition;
            });
        }

        function filterEmployees() {
            renderEmployees();
        }

        function openEmployeeModal(employeeId = null) {
            const modal = document.getElementById('employeeModal');
            const form = document.getElementById('employeeForm');
            const title = document.getElementById('modalTitle');
            
            if (employeeId) {
                const employee = employees.find(emp => emp.id === employeeId);
                title.textContent = '직원 정보 수정';
                document.getElementById('employeeId').value = employee.id;
                document.getElementById('employeeName').value = employee.name;
                document.getElementById('employeePosition').value = employee.position;
                document.getElementById('employeePhone').value = employee.phone;
                document.getElementById('employeeEmail').value = employee.email;
                document.getElementById('employeeHireDate').value = employee.hireDate;
            } else {
                title.textContent = '새 직원 추가';
                form.reset();
                document.getElementById('employeeId').value = '';
            }
            
            modal.style.display = 'block';
        }

        function closeEmployeeModal() {
            document.getElementById('employeeModal').style.display = 'none';
        }

        function handleEmployeeSubmit(e) {
            e.preventDefault();
            
            const id = document.getElementById('employeeId').value || Date.now().toString();
            const employeeData = {
                id,
                name: document.getElementById('employeeName').value,
                position: document.getElementById('employeePosition').value,
                phone: document.getElementById('employeePhone').value,
                email: document.getElementById('employeeEmail').value,
                hireDate: document.getElementById('employeeHireDate').value,
                status: 'active'
            };
            
            if (document.getElementById('employeeId').value) {
                // 수정
                const index = employees.findIndex(emp => emp.id === id);
                employees[index] = { ...employees[index], ...employeeData };
            } else {
                // 추가
                employees.push(employeeData);
            }
            
            saveData();
            updateDashboard();
            renderEmployees();
            updateTrainingEmployeeSelect();
            closeEmployeeModal();
        }

        function editEmployee(id) {
            openEmployeeModal(id);
        }

        function retireEmployee(id) {
            if (confirm('정말로 이 직원을 퇴사 처리하시겠습니까?')) {
                const employee = employees.find(emp => emp.id === id);
                employee.status = 'inactive';
                employee.retireDate = new Date().toISOString().split('T')[0];
                saveData();
                updateDashboard();
                renderEmployees();
            }
        }

        function rehireEmployee(id) {
            if (confirm('이 직원을 복직 처리하시겠습니까?')) {
                const employee = employees.find(emp => emp.id === id);
                employee.status = 'active';
                delete employee.retireDate;
                saveData();
                updateDashboard();
                renderEmployees();
            }
        }

        function openTrainingModal() {
            document.getElementById('trainingModal').style.display = 'block';
            document.getElementById('trainingForm').reset();
        }

        function closeTrainingModal() {
            document.getElementById('trainingModal').style.display = 'none';
        }

        function updateTrainingEmployeeSelect() {
            const select = document.getElementById('trainingEmployee');
            const activeEmployees = employees.filter(emp => emp.status === 'active');
            
            select.innerHTML = '<option value="">직원 선택</option>' +
                activeEmployees.map(emp => `<option value="${emp.id}">${emp.name} (${emp.position})</option>`).join('');
        }

        function handleTrainingSubmit(e) {
            e.preventDefault();
            
            const trainingData = {
                id: Date.now().toString(),
                employeeId: document.getElementById('trainingEmployee').value,
                name: document.getElementById('trainingName').value,
                organization: document.getElementById('trainingOrganization').value,
                date: document.getElementById('trainingDate').value,
                completed: document.getElementById('trainingCompleted').checked
            };
            
            trainings.push(trainingData);
            saveData();
            updateDashboard();
            renderTrainings();
            closeTrainingModal();
        }

        function renderTrainings() {
            const container = document.getElementById('trainingList');
            
            if (trainings.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-graduation-cap text-4xl mb-4"></i>
                        <p>등록된 교육 이력이 없습니다.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = trainings.map(training => {
                const employee = employees.find(emp => emp.id === training.employeeId);
                return `
                    <div class="bg-white p-6 rounded-lg shadow-sm border">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <h4 class="text-lg font-medium text-gray-900 mr-3">${training.name}</h4>
                                    <span class="px-2 py-1 text-xs rounded-full ${training.completed ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">
                                        ${training.completed ? '수료 완료' : '진행 중'}
                                    </span>
                                </div>
                                <p class="text-gray-600 mb-1">
                                    <i class="fas fa-user mr-2"></i>${employee ? `${employee.name} (${employee.position})` : '삭제된 직원'}
                                </p>
                                ${training.organization ? `<p class="text-gray-600 mb-1"><i class="fas fa-building mr-2"></i>${training.organization}</p>` : ''}
                                <p class="text-gray-600">
                                    <i class="fas fa-calendar mr-2"></i>${training.date}
                                </p>
                            </div>
                            <button onclick="deleteTraining('${training.id}')" class="text-red-600 hover:text-red-700 ml-4">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function deleteTraining(id) {
            if (confirm('이 교육 이력을 삭제하시겠습니까?')) {
                trainings = trainings.filter(training => training.id !== id);
                saveData();
                updateDashboard();
                renderTrainings();
            }
        }

        function saveData() {
            localStorage.setItem('employees', JSON.stringify(employees));
            localStorage.setItem('trainings', JSON.stringify(trainings));
        }

        // 모달 외부 클릭 시 닫기
        window.onclick = function(event) {
            const employeeModal = document.getElementById('employeeModal');
            const trainingModal = document.getElementById('trainingModal');
            
            if (event.target === employeeModal) {
                closeEmployeeModal();
            }
            if (event.target === trainingModal) {
                closeTrainingModal();
            }
        }
    </script>


    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDmFsAXmMKnZy9hM2NngNS38dsouFIqK2WReFc3rHbEGfHg%2BSuKLPJQlSYbaswMqS6IlJAosLduc2lw%2Bm6EHp3eFinv9U%2FMurfoe6IQXdOKLyyf26%2B6KNZXZc8ROE60wlshJo8Hci2bhG77rv1EoIbmkE%2FCypEHiMg116K9IHmiOK6ykKrpV3oNIbUpgMtEf%2Fnli%2Bbw8AjKFFF%2FyFkAMhaQ32%2FN4Ti%2BZArDQvuxyGT2kXoyVjy4n%2BrWhS8uMWEypLV7jlk3fmrp%2Fv5YFw06GxgkHtLwmocLiJ9rggn6DIz8uOZzADxFpD2vDge25GSz8Tz9VtT1g4cJfLLqIY4pHSfc6EKjNQubpc9k5eSfPMJaUVIQMI3BY%2FrYJy6DghqRpyemvubxNPpHr22WJDjGxqe2nq9mz0tVE9guwg%2FFvnZMKaW9HPTqKQfKqY2xCMKFlrBQdFyMl89oaq8dDrpkhgXCC52MfLiRFYzE4Hel9eZWwh0aEpU6Q5Nabu1Mn9q7BY9g%3D%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDmFsAXmMKnZy9hM2NngNS38dsouFIqK2WReFc3rHbEGfHg+SuKLPJQlSYbaswMqS6IlJAosLduc2lw+m6EHp3eFinv9U/Murfoe6IQXdOKLyyf26+6KNZXZc8ROE60wlshJo8Hci2bhG77rv1EoIbmkE/CypEHiMg116K9IHmiOK6ykKrpV3oNIbUpgMtEf/nli+bw8AjKFFF/yFkAMhaQ32/N4Ti+ZArDQvuxyGT2kXoyVjy4n+rWhS8uMWEypLV7jlk3fmrp/v5YFw06GxgkHtLwmocLiJ9rggn6DIz8uOZzADxFpD2vDge25GSz8Tz9VtT1g4cJfLLqIY4pHSfc6EKjNQubpc9k5eSfPMJaUVIQMI3BY/rYJy6DghqRpyemvubxNPpHr22WJDjGxqe2nq9mz0tVE9guwg/FvnZMKaW9HPTqKQfKqY2xCMKFlrBQdFyMl89oaq8dDrpkhgXCC52MfLiRFYzE4Hel9eZWwh0aEpU6Q5Nabu1Mn9q7BY9g==";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    </body></html>
